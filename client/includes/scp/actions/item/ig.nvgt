namespace scp::actions::item {
	void ig() {
		nv_form f;
		f.create_window("Give item, everyone", false);
		nv_form_input@ item = f.add_input("Item name", "item");
		nv_form_input@ famount = f.add_input("First amount, the given item will range randomly between first and last amount for everyone, type the same amount for both amounts if you want the specific amount", "famount");
		nv_form_input@ lamount = f.add_input("Last amount, the given item will range randomly between first and last amount for everyone, type the same amount for both amounts if you want the specific amount", "lamount");
		nv_form_button@ ok = f.add_button("Give", "ok", primary = true);
		nv_form_button@ can = f.add_button("Cancel", "can", cancel = true);
		f.focus_control(item, false, false);
		while (f.monitor()) {
			wait(5);
			mainloop();
			if (f.is_pressed(can)) break;
			if (f.is_pressed(ok)) {
				if (item.text == "") {
					speak("Item name is required");
					f.focus_control(item, false, false);
					continue;
				} else if (famount.text == "") {
					speak("First amount is required");
					f.focus_control(famount, false, false);
					continue;
				} else if (lamount.text == "")
					lamount.text = famount.text;
				sendcommand("/ig " + item.text + " random(" + famount.text + "," + lamount.text + ")");
				break;
			}
		}
		f.reset();
	}
}
