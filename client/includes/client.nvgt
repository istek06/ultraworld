namespace client {
	void destruct() {
		can_move = true;
		if (autolower == 1) lower_pitch_in_pool(p, mpool, distpool, placedistpool, sourcepool, musicpool, signpool, itempool);
		else fade_all(p, mpool, distpool, placedistpool, sourcepool, musicpool, signpool, itempool);
		client::map_destruct();
		destroy_all_msounds();
		p.destroy_all();
		mpool.destroy_all();
		sourcepool.destroy_all();
		musicpool.destroy_all();
		distpool.destroy_all();
		placedistpool.destroy_all();
		signpool.destroy_all();
		itempool.destroy_all();
		mapitems.resize(0);
		if (sleeping.playing) sleeping.close();
		if (dreamsound.playing) dreamsound.close();
		srcs.stop();
		vc.stop(false, "", false);
		if (recording == true) recording = false;
		spamtimer.restart();
		if (chuvatelhado.playing) chuvatelhado.close();
		if (windtelhado.playing) windtelhado.close();
		if (nighttelhado.playing) nighttelhado.close();
		sleepmode = -1;
		if (autologin == 1 and importbufferlogs == 1) export_all_buffers();
		me.x = 0;
		me.y = 0;
		me.z = 0;
		x = false;
		in_map = false;
		maps.resize(0);
		if (saveinputbox == 1) saveinputbox = 0;
		staff.reset();
	}
	void map_destruct() {
		in_map = false;
		if (comurl) {
			stream.stop();
			comurl = false;
		}
		evs.resize(0);
		floors.resize(0);
		destroy_all_reverb_effects();
		destroy_all_sources();
		destroy_all_musics();
		destroy_all_urls();
		destroy_all_timedsounds();
		destroy_all_timedmusics();
		destroy_all_vanishing_platforms();
		destroy_all_forcefields();
		destroy_all_teleporters();
		destroy_cppoints();
		destroy_all_doors();
		destroy_all_pdoors();
		destroy_all_icdoors();
		destroy_all_itdoors();
		destroy_all_igdoors();
		destroy_all_automovers();
		destroy_all_pautomovers();
		destroy_all_icautomovers();
		destroy_all_itautomovers();
		destroy_all_igautomovers();
		destroy_all_automatic_travelpoints();
		destroy_all_pautomatic_travelpoints();
		destroy_all_icautomatic_travelpoints();
		destroy_all_itautomatic_travelpoints();
		destroy_all_igautomatic_travelpoints();
		destroy_all_travelpoints();
		destroy_all_ptravelpoints();
		destroy_all_ictravelpoints();
		destroy_all_ittravelpoints();
		destroy_all_igtravelpoints();
		destroy_all_signs();
		destroy_all_txts();
		destroy_all_dialogs();
		destroy_all_automatic_dialogs();
		destroy_all_timedtexts();
		mapitems.resize(0);
		maps.resize(0);
		tiles.resize(0);
		zones.resize(0);
		destroy_all_tracks();
		dcamera = 0;
		dcamerawall = 0;
		dmfwc = 0;
		dcameraplayer = 0;
		dcameraitem = 0;
		dcameradoor = 0;
		dcamerapdoor = 0;
		dcameraicdoor = 0;
		dcameraitdoor = 0;
		dcameraigdoor = 0;
		dcameraautomover = 0;
		dcamerapautomover = 0;
		dcameraicautomover = 0;
		dcameraitautomover = 0;
		dcameraigautomover = 0;
		dcameraautomatic_travelpoint = 0;
		dcamerapautomatic_travelpoint = 0;
		dcameraicautomatic_travelpoint = 0;
		dcameraitautomatic_travelpoint = 0;
		dcameraigautomatic_travelpoint = 0;
		dcameratravelpoint = 0;
		dcameraptravelpoint = 0;
		dcameraictravelpoint = 0;
		dcameraittravelpoint = 0;
		dcameraigtravelpoint = 0;
		dcameravp = 0;
		dcameraff = 0;
		dcamerah = 0;
		dcameratp = 0;
		dcamerasign = 0;
		dcameratxt = 0;
		dcoordinates = 0;
		djump = 0;
		dspy = 0;
		dspyplayer = 0;
		dspyitem = 0;
		dspydoor = 0;
		dspypdoor = 0;
		dspyicdoor = 0;
		dspyitdoor = 0;
		dspyigdoor = 0;
		dspyautomover = 0;
		dspypautomover = 0;
		dspyicautomover = 0;
		dspyitautomover = 0;
		dspyigautomover = 0;
		dspyautomatic_travelpoint = 0;
		dspypautomatic_travelpoint = 0;
		dspyicautomatic_travelpoint = 0;
		dspyitautomatic_travelpoint = 0;
		dspyigautomatic_travelpoint = 0;
		dspytravelpoint = 0;
		dspyptravelpoint = 0;
		dspyictravelpoint = 0;
		dspyittravelpoint = 0;
		dspyigtravelpoint = 0;
		dspyvp = 0;
		dspyff = 0;
		dspyh = 0;
		dspytp = 0;
		dspysign = 0;
		dspytxt = 0;
		dlocalchat = 0;
		dvoicechat = 0;
		dttschat = 0;
		dtracking = 0;
		d2dsupport = 0;
		somchuva = "rain" + random(1, 12) + ".ogg";
		somwind = "wind" + random(1, 5) + ".ogg";
		somnight = "night" + random(2, 4) + ".ogg";
		me = vector(0, 0, 0);
	}
}
